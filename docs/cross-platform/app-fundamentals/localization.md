---
title: 應用程式使用者介面當地語系化
description: 本檔說明國際化和當地語系化的跨平臺概念，並探討它們如何影響應用程式設計。
ms.prod: xamarin
ms.assetid: CC6847B2-23FB-4EDE-9F7E-EF29DD46A5C5
author: conceptdev
ms.author: crdun
ms.date: 03/22/2017
ms.openlocfilehash: 8ecc0cf0ed1fe77f55044d44ecdfc43d6cb6b448
ms.sourcegitcommit: 933de144d1fbe7d412e49b743839cae4bfcac439
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/04/2019
ms.locfileid: "70289106"
---
# <a name="localization"></a>當地語系化

本指南介紹*國際化*和*當地語系化*背後的概念，並提供如何使用這些概念來產生 Xamarin 行動應用程式之指示的連結。

如果您想要直接跳到將 Xamarin 應用程式當地語系化的技術詳細資料，請從下列其中一個平臺特定的操作說明文章開始：

- 使用 RESX 檔案進行[**Xamarin**](~/xamarin-forms/app-fundamentals/localization/index.md)的跨平臺當地語系化。
- [**Xamarin iOS**](~/ios/app-fundamentals/localization/index.md)原生平臺當地語系化。
- [**Xamarin Android**](~/android/app-fundamentals/localization.md)原生平臺當地語系化。

## <a name="i18n-and-l10n"></a>i18n 和 L10n

「*國際化*」程式可讓您的程式碼能夠顯示不同的語言，並針對不同的地區設定（例如數位和日期格式）調整其顯示方式。 這也稱為「*全球化*」。

*當地語系化*是後續步驟-為每個語言建立資源（例如字串和影像），並使用「國際化」應用程式加以結合。

國際化通常會縮短為「i」和「n」之間18個字母的「i18n –速記」。 當地語系化同樣也會縮短為 L10n –在 "L" 和 "n" 之間有10個字母。

## <a name="overview"></a>總覽

本檔介紹與國際化和當地語系化相關的概念，以及如何將它們套用至一般行動應用程式開發。
設計和建立應用程式時，您先前可能已硬式編碼但必須參數化以進行當地語系化的事項包括：

- 螢幕佈局和文字、
- 圖示、圖形和色彩、
- 影片和音效檔，
- 動態文字和文字格式設定（例如數位、貨幣和日期）、
- 從右至左（RTL）語言的版面配置變更，以及
- 資料排序。

無論您的應用程式以何種行動平臺為目標，這些秘訣都會協助您建立高品質的當地語系化應用程式。


## <a name="design-considerations"></a>設計考量

架構應用程式，讓您可以將其內容當地語系化，稱為「國際化」。 適當地執行國際化不只是允許在執行時間載入不同的語言字串–設計良好的應用程式應該允許根據語言和地區設定（包括影像、音效和影片）來變更所有資源，而且可以調整用來處理不同大小字串的格式設定和版面配置。

本節討論建立國際化應用程式時要考慮的一些設計考慮。

### <a name="layouts-and-string-length"></a>版面配置和字串長度

中文和日文字串可能非常短，有時有一或兩個字元對輸入欄位標籤而言有足夠的意義。

德文字串（例如）可能很長;有時候，英文中相對較短的文字在其他語言中會變得很長，可能會遭到裁剪或意外 reflowing 您的版面配置。

比較 iOS 主畫面上的幾個專案的字串長度（英文、德文和日文）：

[![](localization-images/language-compare-sml.png "德文與日文字串長度")](localization-images/language-compare.png#lightbox)

請注意，英文（8個字元）的**設定**需要13個字元的德文翻譯，但日文只能有2個字元。

當標籤的長度可能有很大的差異時，顯示標籤和輸入欄位並存的版面配置將不容易使用。 標籤顯示在欄位上方的版面配置通常較容易當地語系化，因為標籤和輸入都可以使用畫面的完整寬度。

一般的規則是，如果您要建立固定的配置（特別是並存元素），允許的寬度比您的英文字串所需的最多 50%，以用於標籤和文字。 這不會解決每個問題，但會提供可在許多情況下工作的緩衝區。

### <a name="input-validation"></a>輸入驗證

撰寫驗證規則時，請注意假設。 需要文字欄位輸入「需要」至少有三個字元的英文，因為單一字母很少會有任何意義。 但是在中文和日文中，單一字元可能是有效的輸入，而驗證訊息「需要至少3個字元」對這些語言沒有意義。

其他看似簡單的工作（例如驗證電子郵件地址或網站 URL）會變得更複雜，這些字元並不限於 ASCII 子集。

撰寫您的驗證規則並留意國際化–選擇最不嚴格的規則，或撰寫邏輯，讓每種語言的運作方式都不同。

### <a name="images-and-color"></a>影像和色彩

並非每個影像都必須根據使用者的語言選擇來變更。 許多圖示或相片都適用于所有使用者，而不是其說話的語言。
不過，某些資源對當地語系化有意義，例如：

- 描繪人員或特定位置的影像–如果您的應用程式顯示當地人員/位置，則可能會對使用者感到更密切的關係。
- 圖示–某些圖示可以是特定文化特性，而您可以藉由將影像當地語系化以反映當地的理解，讓您的應用程式更容易使用。
- 色彩–某些文化特性會以不同的方式來瞭解色彩，紅色可能代表一個地區的警告，但在另一個區域中很幸運。 在設計您的應用程式時使用原生喇叭進行檢查，以判斷是否應該建立當地語系化色彩的機制。


### <a name="videos-and-sound"></a>影片和音效

影片和音效呈現當地語系化應用程式時的特殊挑戰，因為雖然翻譯字串的方式相當簡單，但錄製多個 voiceover 軌或影片剪輯可能既昂貴又困難。

影片和音效檔的多個複本可能也會大幅增加應用程式的大小（尤其是當您要當地語系化成大量語言或有許多媒體檔案）時。 在使用者安裝您的應用程式之後，您可能會考慮只下載所需的語言資產，但這也可能導致網路速度不佳的使用者體驗。

解決當地語系化問題的方法通常有好幾種，最重要的就是將它們預先考慮，並確保您的應用程式設計成負責處理。


### <a name="dates-times-numbers-and-currency"></a>日期、時間、數位和貨幣

如果您使用的是 .NET 格式化函式，請記得指定文化特性，以便正確剖析十進位分隔符號（並避免擲回轉換例外狀況）。 例如，1.99 和1，99都是有效的十進位標記法，視您的地區設定而定。

當資料來自已知的來源（例如您自己的程式碼或您控制的 web 服務）時，您可以硬式編碼符合格式的文化特性識別碼，例如適用于標準英文語言格式的 InvariantCulture。

```csharp
double.Parse("1,999.99", CultureInfo.InvariantCulture);
```

如果應用程式使用者正在輸入資料，請使用反映其地區設定的 CultureInfo 實例加以剖析：

```csharp
double.Parse("1 999,99", CultureInfo.CreateSpecificCulture("fr-FR"));
```

如需其他資訊，請參閱[剖析數值字串](https://msdn.microsoft.com/library/xbtzcc4w(v=vs.110).aspx)和[剖析日期和時間字串](https://msdn.microsoft.com/library/2h3syy57(v=vs.110).aspx)MSDN 文章。

<a name="rtl" />

### <a name="right-to-left-rtl-languages"></a>由右至左（RTL）語言

某些語言（例如阿拉伯文、希伯來文和烏爾）會由右至左讀取。
支援這些語言的應用程式應該使用可適應由右至左讀取器的畫面設計，例如：

- 文字應該靠右對齊。
- 標籤應該會出現在輸入欄位的右邊。
- 預設按鈕位置通常是相反的。
- 使用內容方向的階層式導覽刷和動畫（以及其他導覽形式和動畫）也應該反轉。

IOS 和 Android 皆支援由右至左的版面配置和字型轉譯，以及可協助進行上述調整的內建功能。 Xamarin 目前不會自動支援 RTL 呈現。

### <a name="sorting"></a>排序

不同的語言會以不同的方式定義其字母的排序次序，即使它們使用相同的字元集也一樣。

如需範例，其中 language （CultureInfo）會影響排序次序，請參閱在[.NET Framework 中使用字串的最佳作法](https://msdn.microsoft.com/library/dd465121(v=vs.110).aspx)中的[字串比較詳細資料](https://msdn.microsoft.com/library/dd465121(v=vs.110).aspx#the_details_of_string_comparison)。

行動平臺上的內建資料庫功能不太可能會支援特定語言的排序次序，因此您可能需要在商務邏輯中執行其他程式碼。

### <a name="text-search"></a>文字搜尋

請務必記住，您可以撰寫並測試具有多種語言的搜尋演算法。 應考慮的事項包括：

- 自動完成-如果您已建立自動完成的函式，請確保它會與使用者的語言相關的建議。
- 將查詢與資料比對-將會針對以該語言撰寫的內容，或針對您應用程式中的所有內容，執行特定語言中所輸入的查詢？
- 詞幹分析–如果您的搜尋是為了搜尋類似的單字、單字根目錄和其他搜尋優化而建立的，則是針對所有支援的語言所建立的優化嗎？
- 排序–請確定已正確排序結果（請參閱以上）。


### <a name="data-from-external-sources"></a>來自外部來源的資料

許多應用程式會從外部來源下載資料，從 Twitter 和 RSS 摘要到天氣、新聞或股票價格。 向使用者顯示此專案時，您必須考慮可能會顯示不相關或無法讀取的資訊畫面。

您可以使用幾個策略來嘗試並確保您的應用程式會顯示與使用者相關的資料：

- 不同來源–您的應用程式可能會根據使用者的語言或地區設定，從不同的來源下載資料。 地區設定新聞、天氣和股票價格可能比從北美洲的摘要下載的內容更合理。
- 當地語系化的顯示-如果您要顯示 Twitter 或相片摘要，則應該以自己的語言顯示中繼資料（例如所花費的時間），即使內容本身仍然是原始語言也一樣。
- 翻譯–您可以在應用程式中建立翻譯選項，以執行傳入資料的機器翻譯。 這可能是自動或由使用者自行決定，只是要在發生此情況時通知使用者，因為機器翻譯永遠不是完美的！

這也可能會影響音訊播放軌或影片的外部連結–設計應用程式時，請務必事先規劃已翻譯的內容，或確保使用者介面在內容不會出現在其語言.


### <a name="dont-over-translate"></a>不要過度轉譯

您應用程式中的某些字串可能不需要翻譯，或至少需要特別注意的翻譯工具。 範例可能包括：

- Url –如果您列出 URL，則不一定需要以語言進行調整。 例如，facebook.com 不需要轉譯它會在主要網站自動偵測語言。 其他網站則具有地區設定特定的內容，而您可能會想要提供不同的 URL，例如 yahoo.com 與 yahoo.fr 或 yahoo.it。
- 電話號碼–特別是使用不同國家/地區代碼或號碼來代表特定語言的呼叫者。
- 連絡人詳細資料-位址和其他資訊可能因語言或地區設定而異。
- 商標 & 產品名稱–某些字串不需要轉譯，因為它們一律是以相同的語言撰寫。

最後，如果特定字串需要特殊處理，請務必包含翻譯工具的詳細指示。


### <a name="formatted-text"></a>格式化文字

行動應用程式通常不會有問題，因為字串通常不會有豐富的格式。 不過，如果您的應用程式中需要豐富的文字（例如粗體或斜體格式），請確定翻譯工具知道如何輸入格式，而您的字串檔案則會正確地儲存它，而且在向使用者顯示之前，會正確格式化（ie）。不小心讓格式代碼本身會呈現給使用者）。



## <a name="translation-tips"></a>翻譯秘訣

翻譯應用程式所使用的字串會被視為當地語系化流程的一部分。 這項工作通常會外包至翻譯服務，並由可能不知道您的應用程式或您業務的多語系人員執行。

下列秘訣可協助您產生更容易正確轉譯的字串，因而改善當地語系化應用程式的品質。



### <a name="localize-complete-strings-not-words"></a>當地語系化完整的字串，而不是單字

有時候開發人員會採用嘗試指定單一單字或句子「程式碼片段」的方法，讓他們可以在整個應用程式中重複使用它們。 例如，「您有5個訊息」文字。 他們可能會指定下列要轉譯的字串

**錯誤**：

```csharp
"You have"
"no"
"message"
"messages"
```

然後嘗試在程式碼中使用字串串連來即時建立正確的片語：

**錯誤**：

```csharp
"You have" + " " + numMsgs + " " + "messages"
"You have" + " no " + "messages"
```

**這不是**建議的做法，因為它不一定適用于所有語言，而且翻譯工具將難以瞭解每個簡短區段的內容。 此外，它也會導致重複使用已轉譯的字串，如果在不同的內容中使用，則可能會在稍後發生問題（然後進行更新）。


### <a name="allow-for-parameter-re-ordering"></a>允許參數重新排序

某些程式設計語言需要額外的語法來指定字串中的參數順序，不過 .NET 已經支援編號預留位置的概念，因此

**好**：

```csharp
"a {0} b {1} cde {3}"
```

可以轉譯如下（預留位置的位置和順序會變更）

```csharp
"{2} {3} f g h {0}"
```

而權杖會依照翻譯的預定順序排序。 將字串傳送至翻譯工具時，請務必包含每個預留位置所包含內容的說明。


### <a name="use-multiple-strings-for-cardinality"></a>針對基數使用多個字串

避免針對每`"You have {0} message/s."`個狀態使用特定字串之類的字串，以提供更好的使用者體驗：

**好**：

```csharp
"You have no messages."
"You have 1 messages."
"You have 2 messages."
"You have {0} messages."
```

您必須在應用程式中撰寫程式碼，以評估所顯示的數位，並選擇適當的字串。 某些平臺（包括 iOS 和 Android）具有內建功能，可根據目前語言/地區設定的喜好設定自動選擇最佳的複數字串。


### <a name="allowing-for-gender"></a>允許性別

以拉丁語言來說，有時會根據主旨的性別，使用不同的字組。 如果您的應用程式知道性別，您應該允許翻譯的字串反映這一點。

此外，也有更明顯的情況，也就是英文，其中的字串指的是您應用程式的特定人員或使用者。 例如，有些網站會顯示類似`"Bob commented on his post"`的訊息，因此您需要男性、女性和非二進位或不明性別的字串：

**好**：

```csharp
"{0} commented on his post"
"{0} commented on her post"
"{0} commented on their post"
```

### <a name="dont-reuse-strings"></a>不要重複使用字串

或者更準確地說，不要重複使用字串，因為當字串本身有不同的用途或意義時，它們就很類似。

例如：假設您的應用程式中有開啟/關閉參數，而且切換控制項需要當地語系化 ' on ' 和 ' off ' 的文字。 您也會在文字標籤的應用程式中的其他位置顯示該設定的值。 您應該針對切換顯示使用不同的字串，而不是切換的狀態（即使它們是預設語言中的相同字串）–例如：

- 「開啟」–在交換器本身顯示
- 「關閉」–在交換器本身顯示
- 「開啟」–顯示在標籤中
- 「關閉」–顯示在標籤中

這可為翻譯工具提供最大的彈性：

- 基於設計的理由，switch 本身可能會使用小寫 "on" 和 "off"，但顯示標籤使用大寫 "On" 和 "Off"。
- 某些語言可能需要將參數值縮寫成符合使用者介面控制項，而完整（轉譯的）字組可以出現在標籤中。
- 或者，針對某些語言，您的交換器轉譯可能會使用 "I" 和 "O" 來熟悉文化，但您可能仍想要標籤讀取「開啟」或「關閉」。

### <a name="translation-services"></a>翻譯服務

#### <a name="machine-translation"></a>機器翻譯

若要在您的應用程式中建立翻譯功能，請考慮[Azure 翻譯工具文字 API](https://azure.microsoft.com/services/cognitive-services/translator-text-api/)。

基於測試目的，您可以使用許多線上翻譯工具之一，在開發期間于應用程式中包含一些當地語系化的文字：

- [Bing 翻譯](https://www.bing.com/translator/)
- [Google 翻譯](http://translate.google.com/)

還有許多其他功能可供使用。 機器翻譯的品質通常不會被視為足以發行應用程式，而不需要先經過專業翻譯或原生喇叭的審查和測試。

#### <a name="professional-translation"></a>專業翻譯

此外，也有專業的翻譯服務可取得您的字串，並將其散發給他們自己的翻譯人員，為您提供費用的完成翻譯。

其中一個最知名的服務就是[LionBridge](http://www.lionbridge.com/)。 大部分的專業服務都支援所有常見的檔案類型，包括字串、XML、RESX 和 .POT/PO。


## <a name="summary"></a>總結

本文引進了一些您在國際化應用程式及當地語系化資源之前應該先熟悉的概念，同時也涵蓋如何變更每個平臺的語言喜好設定。

這些概念可以套用至 Xamarin 所能使用的各種平臺特定和跨平臺國際化技術。

繼續閱讀您感興趣之平臺的技術詳細資料：

- 使用 RESX 檔案進行[Xamarin](~/xamarin-forms/app-fundamentals/localization/index.md)的跨平臺當地語系化。
- [Xamarin iOS](~/ios/app-fundamentals/localization/index.md)原生平臺當地語系化。
- [Xamarin Android](~/android/app-fundamentals/localization.md)原生平臺當地語系化。



## <a name="related-links"></a>相關連結

- [Apple 的當地語系化總覽](https://developer.apple.com/internationalization/)
- [Android 的當地語系化檢查清單](https://developer.android.com/distribute/tools/localization-checklist.html)
- [開發全球化應用程式的最佳作法（MSDN）](https://msdn.microsoft.com/library/w7x1y988%28v=vs.90%29.aspx)
