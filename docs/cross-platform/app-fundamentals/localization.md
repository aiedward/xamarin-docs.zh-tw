---
title: 應用程式消費者介面當地語系化
description: 本檔說明國際化和當地語系化的跨平臺概念，並探討其如何影響應用程式設計。
ms.prod: xamarin
ms.assetid: CC6847B2-23FB-4EDE-9F7E-EF29DD46A5C5
author: davidortinau
ms.author: daortin
ms.date: 03/22/2017
ms.openlocfilehash: 38bee7e2c4c0b3cdf5107842e47feeeb1445d626
ms.sourcegitcommit: 4e399f6fa72993b9580d41b93050be935544ffaa
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2020
ms.locfileid: "91457727"
---
# <a name="localization"></a>當地語系化

本指南介紹 *國際化* 和 *當地語系化* 背後的概念，以及如何使用這些概念來產生 Xamarin 行動應用程式的指示連結。

如果您想要直接跳到當地語系化 Xamarin 應用程式的技術詳細資料，請從下列其中一個平臺特定的操作說明文章開始：

- [**Xamarin. Forms**](~/xamarin-forms/app-fundamentals/localization/index.md) 使用 RESX 檔案進行跨平臺當地語系化。
- [**Xamarin iOS**](~/ios/app-fundamentals/localization/index.md) 原生平臺當地語系化。
- [**Xamarin. Android**](~/android/app-fundamentals/localization.md) 原生平臺當地語系化。

## <a name="i18n-and-l10n"></a>國際化和 L10n

*國際化* 程式讓您的程式碼能夠顯示不同的語言，並針對不同的地區設定顯示其顯示 (例如數位和日期格式) 。 這也稱為「 *全球化*」。

*當地語系化* 是接下來的步驟-建立資源 (例如，為每種語言) 的字串和影像，並將它們與「國際化」應用程式一起使用。

國際化：通常會縮短為「我」和「n」之間的「國際化」（簡稱18個字母）。 當地語系化也會縮寫為 L10n –在 "L" 和 "n" 之間有10個字母。

## <a name="overview"></a>概觀

本檔將介紹與國際化和當地語系化相關的概念，以及它們如何在一般情況下套用至行動應用程式開發。
設計和建立應用程式時，您先前可能會有硬式編碼但必須針對當地語系化參數化的專案包括：

- 畫面版面配置和文字
- 圖示、圖形和色彩，
- 影片和音效檔
- 動態文字和文字格式的 (例如數位、貨幣和日期) 、
- 從右至左 (RTL) 語言的版面配置變更，以及
- 資料排序。

無論您的應用程式以何種行動平臺為目標，這些秘訣都將協助您建立高品質的當地語系化應用程式。

## <a name="design-considerations"></a>設計考量

架構應用程式，讓您可以將它的內容當地語系化，稱為「國際化」。 適當地執行國際化並不只是允許在執行時間載入不同的語言字串，設計完善的應用程式應該根據語言和地區設定來允許變更所有資源， (包括影像、音效和影片) ，並且可以調整格式和配置以處理不同大小的字串。

本節討論建立國際化應用程式時要考慮的一些設計考慮。

### <a name="layouts-and-string-length"></a>版面配置和字串長度

中文和日文字串可能非常短，有時一或兩個字元的意義足以用於輸入欄位標籤。

德文字串 (例如) 可能很長;有時候，英文中相對較短的單字在其他語言中會變得很長，也就是遭裁剪或非預期地 reflowing 您的版面配置。

以英文、德文和日文來比較 iOS 主畫面上一些專案的字串長度：

[![德文與日文字串長度](localization-images/language-compare-sml.png)](localization-images/language-compare.png#lightbox)

請注意，英文 (8 個字元) 中的 **設定** 需要13個字元作為德文轉譯，但只有兩個字元的日文。

當標籤長度可能有很大的差異時，顯示標籤和輸入欄位並存的版面配置很難處理。 通常會在欄位上方顯示標籤的版面配置更容易進行當地語系化，因為標籤和輸入都有可用畫面的全寬度。

一般來說，如果您要建立固定的配置 (特別是並存元素) 允許的寬度比您的英文字串所需的標籤和文字還要高50%。 這無法解決每個問題，但會提供在許多情況下都能運作的緩衝區。

### <a name="input-validation"></a>輸入驗證

在撰寫驗證規則時，請注意假設。 要求文字欄位輸入必須至少有三個字元（英文），因為單一字母很少會有任何意義。 但在中文和日文中，單一字元可能是有效的輸入，且「至少需要3個字元」驗證訊息對這些語言沒有意義。

其他看似簡單的工作（例如驗證電子郵件地址或網站 URL）會變得更複雜，因為這些字元不限於 ASCII 子集。

以國際化的方式撰寫驗證規則-請選擇最不嚴格的規則，或撰寫邏輯，讓每種語言的運作方式都不同。

### <a name="images-and-color"></a>影像和色彩

並非每個映射都需要根據使用者的語言選擇來變更。 許多圖示或相片都適用于所有使用者，而不像他們說的語言為何。
但有一些資源對當地語系化有意義，例如：

- 描繪人員或特定位置的影像–如果您的應用程式顯示當地人員/地點，您的應用程式可能會對使用者感到更密切的關係。
- 圖示–某些圖示可以是文化特性特有的，而您可以藉由將影像當地語系化以反映當地的理解，讓應用程式更容易使用。
- 色彩：某些文化特性會以不同的方式來瞭解色彩：紅色可能代表一個區域中的警告，但在另一個區域中很幸運。 當您設計應用程式時，請檢查原生喇叭，以判斷是否應該建立將色彩當地語系化的機制。

### <a name="videos-and-sound"></a>影片和音效

在當地語系化應用程式時，影片和音效都有特殊的挑戰，因為雖然比較容易轉譯字串，但錄製多個 voiceover 軌或影片剪輯可能既昂貴又困難。

影片和音效檔的多個複本也可能大幅增加應用程式的大小 (特別是當您要當地語系化成大量語言，或有大量媒體檔案) 時。 在使用者安裝您的應用程式之後，您可以考慮只下載必要的語言資產，但這也可能會導致低速網路的使用者體驗不佳。

有多種方式可以解決當地語系化問題，最重要的是將它們預先列入考慮，並確保您的應用程式是設計來處理它們。

### <a name="dates-times-numbers-and-currency"></a>日期、時間、數位和貨幣

如果您使用的是 .NET 格式化函式，請記得指定文化特性，以便正確剖析小數分隔符號 (並避免) 擲回轉換例外狀況。 例如，1.99 和1，99都是有效的十進位標記法（視您的地區設定而定）。

當資料來自已知來源時 (ie。您可以從自己的程式碼或您控制) 的 web 服務，將符合格式化的文化特性識別碼（例如 InvariantCulture）硬式編碼，這將適用于標準的英文語言格式。

```csharp
double.Parse("1,999.99", CultureInfo.InvariantCulture);
```

如果資料是由應用程式使用者輸入，請使用反映其地區設定的 CultureInfo 實例進行剖析：

```csharp
double.Parse("1 999,99", CultureInfo.CreateSpecificCulture("fr-FR"));
```

如需其他資訊，請參閱 [剖析數值字串](/dotnet/standard/base-types/parsing-numeric) 和 [剖析日期和時間字串](/dotnet/standard/base-types/parsing-datetime) 的 MSDN 文章。

<a name="rtl"></a>

### <a name="right-to-left-rtl-languages"></a>從右至左 (RTL) 語言

某些語言（例如阿拉伯文、希伯來文和烏爾 (例如) ）是由右至左讀取的。
支援這些語言的應用程式應該使用可適應由右至左讀取器的螢幕設計，例如：

- 文字應靠右對齊。
- 標籤應該會出現在輸入欄位的右邊。
- 預設按鈕位置通常會反轉。
- 階層式導覽的輕輕和動畫 (，以及其他使用內容方向的導覽比喻和動畫) 也應該反轉。

IOS 和 Android 皆支援由右至左的版面配置和字型轉譯，內建功能可協助進行上述調整。 Xamarin 目前不會自動支援 RTL 轉譯。

### <a name="sorting"></a>排序

不同的語言會以不同的方式來定義字母的排序次序，即使它們使用相同的字元集亦同。

如需在[.NET Framework 中使用字串的最佳做法](/dotnet/standard/base-types/best-practices-strings)，請參閱[字串比較的詳細資料](/dotnet/standard/base-types/best-practices-strings#the_details_of_string_comparison)，其中 language (CultureInfo) 會影響排序次序。

行動平臺上的內建資料庫功能不太可能會支援特定語言的排序次序，因此您可能需要在商務邏輯中執行其他程式碼。

### <a name="text-search"></a>文字搜尋

請注意，您可以使用多種語言來撰寫和測試您的搜尋演算法。 應考慮的事項包括：

- 自動完成-如果您已經建立自動完成功能，請確定其來源與使用者的語言相關的建議。
- 將查詢比對到資料–搜尋以特定語言輸入的查詢，只針對以該語言撰寫的內容，或針對應用程式中的所有內容執行？
- 詞幹分析–如果您的搜尋是為了搜尋類似的單字、字組根目錄和其他搜尋優化所建立，則這些優化是針對您支援的所有語言所建立的嗎？
- 排序-請確定結果已正確排序 (請參閱上述) 。

### <a name="data-from-external-sources"></a>來自外部來源的資料

許多應用程式會從外部來源下載資料，從 Twitter 和 RSS 摘要到天氣、新聞或股票價格。 當您向使用者顯示此資訊時，您需要考慮可能會顯示不相關或無法讀取的資訊畫面。

您可以使用幾種策略來嘗試，並確保您的應用程式顯示與使用者相關的資料：

- 不同來源–您的應用程式可能會根據使用者的語言或地區設定，從不同的來源下載資料。 地區設定新聞、天氣和股票價格可能比從北美洲摘要下載的內容更有意義。
- 當地語系化的顯示-如果您要顯示 Twitter 或相片摘要，您應該顯示中繼資料 (例如) 在他或她的語言中的時間，即使內容本身仍是原始語言也一樣。
- 轉譯–您可以在應用程式中建立轉譯選項，以執行傳入資料的機器翻譯。 這可能是自動或由使用者自行決定，只要在發生這種情況時通知使用者，因為電腦翻譯永遠不完美！

這也可能會影響音訊播放軌或影片的外部連結。設計您的應用程式時，請務必預先規劃來源翻譯的內容，或確保使用者介面在內容不會以其語言呈現時獲得充分的通知。

### <a name="dont-over-translate"></a>不要過度轉譯

您應用程式中的某些字串可能不需要翻譯，或翻譯工具至少需要特別注意。 範例可能包括：

- Url-如果您列出 URL，則不一定需要依語言進行調整。 例如，facebook.com 不需要在主要網站上將它轉譯為自動偵測語言。 其他網站具有地區設定專屬的內容，您可能會想要提供不同的 URL，例如 yahoo.com 與 yahoo.fr 或 yahoo.it。
- 電話號碼-特別是針對說話特定語言的呼叫者，其國家/地區代碼或號碼不同的電話號碼。
- 連絡人詳細資料–位址和其他資訊可能會因語言或地區設定而異。
- 商標 & 產品名稱：某些字串不需要翻譯，因為它們一律以相同的語言撰寫。

最後，如果特定字串需要特殊處理，請務必包含 translator 的詳細指示。

### <a name="formatted-text"></a>格式化文字

行動應用程式通常不會造成問題，因為字串的格式通常不太豐富。 但是，如果您的應用程式中需要 rich text (（例如粗體或斜體) 格式），請確定 translator 知道如何輸入格式，而您的字串檔案會正確地儲存格式，而且在向使用者顯示 (ie 之前，它會正確地格式化。請不要不慎讓格式化碼本身呈現給使用者) 。

## <a name="translation-tips"></a>翻譯秘訣

轉譯應用程式所使用的字串會被視為當地語系化程式的一部分。 這項工作通常會外包給翻譯服務，並由可能不知道您的應用程式或您企業的多語系人員執行。

下列秘訣可協助您產生更容易轉譯的字串，進而提升當地語系化應用程式的品質。

### <a name="localize-complete-strings-not-words"></a>當地語系化完整字串，而非單字

有時候，開發人員會採用嘗試指定單一單字或句子 ' 程式碼片段 ' 的方法，以便在整個應用程式中重複使用它們。 例如，針對「您有5個訊息」的文字。 它們可能會指定下列翻譯字串

**錯誤**：

```csharp
"You have"
"no"
"message"
"messages"
```

然後使用字串串連，嘗試在程式碼中即時建立正確的片語：

**錯誤**：

```csharp
"You have" + " " + numMsgs + " " + "messages"
"You have" + " no " + "messages"
```

**這不是** 建議的方式，因為它不一定適用于所有語言，而且翻譯工具很難瞭解每個短區段的內容。 此外，它也會導致重複使用翻譯的字串，如果在不同的內容中使用這些字串，可能會在稍後發生問題 (然後取得更新的) 。

### <a name="allow-for-parameter-re-ordering"></a>允許重新排序參數

某些程式設計語言需要額外的語法來指定字串中參數的順序，但 .NET 已經支援編號預留位置的概念，因此

**好**：

```csharp
"a {0} b {1} cde {3}"
```

可以轉譯下列 (，其中預留位置的位置和順序已變更) 

```csharp
"{2} {3} f g h {0}"
```

而且權杖將會依照翻譯的預定順序來排序。 將字串傳送至翻譯工具時，請務必包含每個預留位置所包含內容的說明。

### <a name="use-multiple-strings-for-cardinality"></a>使用多個字串作為基數

避免 `"You have {0} message/s."` 針對每個狀態使用特定字串之類的字串，以提供更好的使用者體驗：

**好**：

```csharp
"You have no messages."
"You have 1 message."
"You have 2 messages."
"You have {0} messages."
```

您必須在應用程式中撰寫程式碼，以評估所顯示的數位，並選擇適當的字串。 某些平臺 (包括 iOS 和 Android) 具有內建功能，可根據目前語言/地區設定的喜好設定，自動選擇最佳的複數字串。

### <a name="allowing-for-gender"></a>允許性別

以拉丁語言為基礎的語言，有時會根據主旨的性別使用不同的字組。 如果您的應用程式知道性別，您應該允許翻譯的字串反映此情況。

即使是英文，也有更明顯的案例，其中字串指的是您應用程式的特定人員或使用者。 例如，有些網站會顯示類似的訊息， `"Bob commented on his post"` 因此您需要男性、女性和非二進位或不明性別的字串：

**好**：

```csharp
"{0} commented on his post"
"{0} commented on her post"
"{0} commented on their post"
```

### <a name="dont-reuse-strings"></a>不要重複使用字串

更精確地說，請不要重複使用字串，因為它們在字串本身具有不同用途或意義時很類似。

例如：假設您的應用程式中有開啟/關閉參數，而切換控制項需要當地語系化 ' on ' 和 ' off ' 的文字。 您也會在應用程式中的其他位置顯示文字標籤中該設定的值。 您應該針對切換顯示使用不同的字串，而不是切換的狀態 (即使它們是您的預設語言中的相同字串) –例如：

- 「開啟」–顯示在切換本身
- "Off" –在參數本身顯示
- "On" –顯示在標籤中
- "Off" –顯示在標籤中

這可為翻譯工具提供最大的彈性：

- 基於設計原因，可能是因為參數本身使用小寫 "on" 和 "off"，但是顯示標籤使用大寫 "On" 和 "Off"。
- 某些語言可能需要將參數值縮寫以納入使用者介面控制項，而完整的 (轉譯) word 可以出現在標籤中。
- 或者，針對某些語言，您的交換器轉譯可能會使用「I」和「O」來熟悉文化，但您可能仍希望標籤讀取「開啟」或「關閉」。

### <a name="translation-services"></a>轉譯服務

#### <a name="machine-translation"></a>機器翻譯

若要在您的應用程式中建立翻譯功能，請考慮 [Azure 翻譯工具文字 API](https://azure.microsoft.com/services/cognitive-services/translator-text-api/)。

基於測試目的，您可以使用許多線上翻譯工具之一，在開發期間于您的應用程式中包含一些當地語系化的文字：

- [Bing 翻譯](https://www.bing.com/translator/)
- [Google 翻譯](https://translate.google.com/)

還有許多其他功能可供使用。 機器翻譯的品質通常不會被視為足以釋出應用程式，而不需要先由專業翻譯或原生喇叭進行審核和測試。

#### <a name="professional-translation"></a>專業翻譯

另外還有專業的翻譯服務，將會取得您的字串，並將其散發給自己的翻譯人員，以提供您已完成的翻譯給您的費用。

其中一項最知名的服務就是 [LionBridge](https://www.lionbridge.com/)。 大部分的專業服務都支援所有常見的檔案類型，包括字串、XML、RESX 和 .POT/PO。

## <a name="summary"></a>摘要

本文引進了一些概念，您應該先熟悉這些概念，然後再對應用程式進行國際化，然後將資源當地語系化，也涵蓋如何變更每個平臺的語言喜好設定。

這些概念可套用至 Xamarin 所能使用的各種平臺特定和跨平臺國際化技術。

繼續閱讀您感興趣之平臺的技術詳細資料：

- [Xamarin. Forms](~/xamarin-forms/app-fundamentals/localization/index.md) 使用 RESX 檔案進行跨平臺當地語系化。
- [Xamarin iOS](~/ios/app-fundamentals/localization/index.md) 原生平臺當地語系化。
- [Xamarin. Android](~/android/app-fundamentals/localization.md) 原生平臺當地語系化。

## <a name="related-links"></a>相關連結

- [Apple 的當地語系化總覽](https://developer.apple.com/internationalization/)
- [Android 的當地語系化檢查清單](https://developer.android.com/distribute/tools/localization-checklist.html)
- [ (MSDN) 開發全球化應用程式的最佳作法 ](/previous-versions/visualstudio/visual-studio-2008/w7x1y988(v=vs.90))